{"ts":1360870161990,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1360870178411,"patch":[[{"diffs":[[1,"var express = require('express'),\r\n    engine = require('ejs-locals'),\r\n\tapp = express();\r\n\r\nexports.init = function(port) {\r\n\r\n\tapp.locals({\r\n\t\t_layoutFile:'layout.ejs'\r\n\t})\r\n\t\r\n    app.configure(function(){\r\n    \tapp.set('views', __dirname + '/views');\r\n    \tapp.set('view engine', 'ejs');\r\n\t\tapp.use(express.static(__dirname + '/static'));\r\n    \tapp.use(express.bodyParser());\r\n    \tapp.use(express.methodOverride());\r\n\t\tapp.use(express.cookieParser());\r\n\t\tapp.use(express.cookieSession({cookie:{path:'/',httpOnly:true,maxAge:null},secret:'skeletor'}));\r\n    \tapp.use(app.router);\r\n    \t//app.enable(\"jsonp callback\");\r\n    });\r\n\r\n\tapp.engine('ejs', engine);\r\n\t\r\n    app.configure('development', function(){\r\n\t   app.use(express.errorHandler({ dumpExceptions: true, showStack: true })); \r\n        // app.use(express.logger({ format: ':method :url' }));\r\n    });\r\n\r\n    app.configure('production', function(){\r\n\t   app.use(express.errorHandler()); \r\n    });\r\n\r\n\r\n    app.use(function(err, req, res, next){\r\n\t   res.render('500.ejs', { locals: { error: err },status: 500 });\t\r\n    });\r\n\t\r\n    server = app.listen(port);\r\n\r\n    console.log(\"Listening on port %d in %s mode\", server.address().port, app.settings.env);\r\n\r\n    return app;\r\n}"]],"start1":0,"start2":0,"length1":0,"length2":1238}]],"length":1238,"saved":false}
